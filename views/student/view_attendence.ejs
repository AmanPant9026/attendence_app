<!-- views/student/course_attendance.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Attendance</title>
    <link rel="stylesheet" href="/css/student/homecss.css">
</head>
<body>
    <h1>Your Course Attendance</h1>
    <table>
        <thead>
            <tr>
                <th>Course ID</th>
                <th>Course Name</th>
                <th>Date</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <% attendance.forEach(record => { %>
            <tr>
                <td><%= record.course_id %></td>
                <td><%= record.course_name %></td>
                <td><%= record.date %></td>
                <td><%= record.status %></td>
                <td>
                    <form action="/student/raise-flag" method="post">
                        <input type="hidden" name="course_id" value="<%= record.course_id %>">
                        <input type="hidden" name="date" value="<%= record.date %>">
                        <textarea name="reason" placeholder="Reason for flagging"></textarea>
                        <button type="submit">Raise Flag</button>
                    </form>
                </td>
            </tr>
            <% }) %>
        </tbody>
    </table>
    <h2>Your Flags</h2>
    <ul>
        <% flags.forEach(flag => { %>
        <li><%= flag.date %> - <%= flag.reason %></li>
        <% }) %>
    </ul>
</body>
</html>
